<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <style>
        /* Style for the main container */
/* Base styles */
#main_container {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-top: 50px;
  padding-bottom: 50px;
  background-color: #f8f9fa;
}

#users {
  text-align: center;
  font-size: 36px;
  font-weight: bold;
  margin-bottom: 50px;
}

#restaurant-container {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 30px;
  padding: 30px;
  background-color: #fff;
  border: 1px solid #ced4da;
  border-radius: 5px;
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
}

#restaurant-container > div {
  background-color: #fff;
  border: 1px solid #ced4da;
  border-radius: 5px;
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
  overflow: hidden;
}

#restaurant-container > div img {
  width: 100%;
  height: 200px;
  object-fit: cover;
}

#restaurant-container > div h2 {
  font-size: 24px;
  font-weight: bold;
  margin: 20px;
}

#restaurant-container > div p {
  font-size: 16px;
  margin: 10px 20px;
}

#id {
  margin-top: 50px;
  font-size: 24px;
  font-weight: bold;
  border-radius: 5px;
  background-color: #007bff;
  border: none;
  color: #fff;
  padding: 10px 20px;
  cursor: pointer;
  transition: all 0.3s ease;
}

#id:hover {
  background-color: black;
}

.modal-dialog {
  max-width: 500px;
}

.modal-content {
  border-radius: 5px;
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
}

.modal-header {
  background-color: #f8f9fa;
  border-bottom: none;
}

.modal-title {
  font-size: 24px;
  font-weight: bold;
}

.modal-body {
  padding: 30px;
}

.modal-footer {
  background-color: #f8f9fa;
  border-top: none;
}

/* Media queries for mobile devices */
@media only screen and (max-width: 600px) {
  #main_container {
    padding-top: 20px;
    padding-bottom: 20px;
  }

  #users {
    font-size: 24px;
    margin-bottom: 20px;
  }

  #restaurant-container {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 20px;
    padding: 20px;
  }

  #restaurant-container > div {
    margin-bottom: 20px;
  }

  #restaurant-container > div h2 {
    font-size: 20px;
    margin: 10px;
  }

  #restaurant-container > div p {
    font-size: 14px;
    margin: 5px 10px;
  }

  #id {
    margin-top: 20px;
font-size: 20px;
padding: 8px 16px;
}

.modal-dialog {
max-width: 100%;
}

.modal-body {
padding: 20px;
}
}

    </style>
</head>
<body>
  <div id="users">
    <h1>    Users Detailes
      <!-- <span ><input id="logout" type="button" value="log out"></span> -->
    </h1>
    
  </div>
  <div id="main_container">
    <div id="restaurant-container">
        <!-- Here Append All the Products  -->
        <!-- <label for="firstname">firstname</label><br> -->
        <!-- <label id = "firstname">
          Welcome to GeeksforGeeks
      </label> -->
        
      </div>
    
      <!-- Scrollable modal -->
      <button type="button" id="id" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@mdo">ADD DATA</button>
     
     
      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Add Data</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form>
                <div class="mb-3">
                  <label for="recipient-name" class="col-form-label">URL:</label>
                  <input type="text" id="url" class="form-control" id="recipient-name">
                </div>
                <div class="mb-3">
                  <label for="recipient-name" class="col-form-label">Name:</label>
                  <input type="text" id="name" class="form-control" id="recipient-name">
                </div>
                <div class="mb-3">
                  <label for="recipient-name" class="col-form-label">Price:</label>
                  <input type="text" id="price" class="form-control" id="recipient-name">
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" id="btn" class="btn btn-primary">Send message</button>
              
            </div>
            <!-- <span><button>hy</button></span> -->
          </div>
        </div>
      </div>
      
    </div>
</body>
<script>
    let bag=[];
    const url = `https://creepy-yak-frock.cyclic.app/users/get`;
    // All your JS code for Home Page goes here
    fetch(url).then((res)=>res.json())
    .then((data)=>{
      bag=data
      console.log(bag)
      displayfun(data)
    });
    // let main=document.querySelector("#restaurant-container");
    function displayfun(data){      
      data.forEach(el => {
        let div=document.createElement("div");
        let _id=document.createElement("h2");
        _id.textContent=`ID:  ${el._id}`;
        _id.classList.add("_id");

        let firstname=document.createElement("p");
        firstname.textContent=`FIRSTNAME:  ${el.firstname}`;
        firstname.classList.add("firstname");

        let lastname=document.createElement("p");
        lastname.textContent=`Lastname : ${el.lastname}`;
        lastname.classList.add("lastname");

        let email=document.createElement("p");
        email.textContent=`EMAIL : ${el.email}`;
        email.classList.add("email");

        let pass=document.createElement("p");
        pass.textContent=`PASSWORD : ${el.pass}`;
        pass.classList.add("pass");
            
        // let btn=document.getElementById('id')
        // // btn.classList.add("btn");
        // btn.textContent=`${el._id}`
        // btn.addEventListener("click",function(){
        // })
        
    
    
        div.append(_id,firstname,lastname,email,pass);
        document.querySelector("#restaurant-container").append(div)
      });
    }
    // let filter=document.querySelector(".search");
    // filter.addEventListener("input",function(event){
    //   document.querySelector("#restaurant-container").textContent=null;
    //   let select=event.target.value;
    //   if(select==""){
    //     displayfun(bag)
    //   }
    //   let fil=bag.filter(function(el){
    //     return el.name==select;
    //   })
    //   displayfun(fil);
    //   console.log(fil)
    // })
    
    
    // let data=new dataModel(url,name,price);
    // console.log(data)
   
function Data(n,m,l){
  this.image=n;
  this.name=m;
  this.price=l;
}

    let add=document.querySelector("#btn");
    add.addEventListener("click",()=>{
      let image=document.querySelector("#url").value;
      let name=document.querySelector("#name").value;
      let price=document.querySelector("#price").value;
      
      let newdat=new Data(image,name,price)
      console.log(newdat);

      fetch("https://creepy-yak-frock.cyclic.app/data/add",{
        method:"POST",
        headers:{
          "content-type":"application/json"
        },
        body:JSON.stringify(newdat)
      }).then((res)=>res.json()).then((res)=>{
        console.log(res)
      }).catch((err)=>{
        console.log(err)

      })


    })
    
    
    </script>
    
</html>